function buscarVuelos(e,a,t,i,n,o){if(0==a.val())return alertMessage("city_origin_null"),!1;if(""==t.val()||void 0===t.val()||0==t.val())return alertMessage("destination_city_null"),!1;if(a.val()==t.val())return alertMessage("origin_destination"),!1;if(""==i.val()||void 0==i.val())return alertMessage("departure_date"),!1;if("RT"==o.val()){if(""==n.val()||void 0==n.val())return alertMessage("return_date"),!1}else n="";var r=getCookie("cname"),d=getCookie("cname");return""===r&&(r=s.pageName,d=s.pageName),v_codigoprom=$("#coupon").val(),o=$("input:radio[name=radIdaVuelta]:checked").val(),arr_elm=i.val().split("/"),v_diasalida=arr_elm[0],v_messalida=arr_elm[1],v_anosalida=arr_elm[2],arr_elm=n.val().split("/"),v_diaregreso=arr_elm[0],v_mesregreso=arr_elm[1],v_anoregreso=arr_elm[2],v_fechas=$("input:radio[name=fechas]:checked").val(),v_cabinClass=$("input:radio[name=cabinClass]:checked").val(),v_pasajeros=$("#pasajeros").val(),v_pasajerosninos=$("#cbpasajerosninos").val(),v_infantesPasajeros=$("#cbinfantesPasajeros").val(),goBooking(r,d,e,v_codigoprom,o,a.val(),t.val(),v_diasalida,v_messalida,v_anosalida,v_diaregreso,v_mesregreso,v_anoregreso,v_fechas,v_cabinClass,v_pasajeros,v_pasajerosninos,v_infantesPasajeros),!1}function alertMessage(e){var a=$("html").attr("lang"),t={en:{city_origin_null:"Select a city of origin",destination_city_null:"Select the destination city",origin_destination:"The destination city should be different from the city of origin",departure_date:"Select departure",return_date:"Select Return Date"},es:{city_origin_null:"Seleccione la ciudad de origen",destination_city_null:"Seleccione la ciudad de destino",origin_destination:"La ciudad de destino debe ser diferente de la de origen",departure_date:"Seleccione la fecha de salida",return_date:"Seleccione la fecha de regreso"},pt:{city_origin_null:"Selecione uma cidade de origem",destination_city_null:"Selecione a cidade de destino",origin_destination:"A cidade de destino deve ser diferente a partir da cidade de origem",departure_date:"Selecione a partida",return_date:"Selecionar data de retorno"}};switch(a){case"es":alert(t.es[e]);break;case"en":alert(t.en[e]);break;case"pt":alert(t.pt[e])}}function getCookie(e){for(var a=e+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(a))return n.substring(a.length,n.length)}return""}function goBooking(e,a,t,i,n,o,r,s,d,l,c,u,p,v,_,g,f,m){var h=$("html").attr("lang"),b="";b+="https://bookings.copaair.com/CMGS/AirLowFareSearchExternal.do?utm_campaign="+e+"&d1="+a+"&tripType="+n+"&outboundOption.originLocationCode="+o+"&outboundOption.destinationLocationCode="+r+"&outboundOption.departureDay="+s+"&outboundOption.departureMonth="+d+"&outboundOption.departureYear="+l+"&inboundOption.destinationLocationCode="+o+"&inboundOption.originLocationCode="+r+"&inboundOption.departureDay="+c+"&inboundOption.departureMonth="+u+"&inboundOption.departureYear="+p,i&&(b+="&coupon="+i),b+="&flexibleSearch="+v+"&cabinClass="+_+"&guestTypes[0].type=ADT&guestTypes[0].amount="+g+"&guestTypes[1].type=CNN&guestTypes[1].amount="+f+"&guestTypes[2].type=INF&guestTypes[2].amount="+m+"&pos=CM"+t+"&lang="+h,window.open(b)}$(function(){$.each(sysCities.fromcities,function(e,a){$("#DESDE").append('<option value="'+a.id+'">'+a.name+"</option>")});var e="";$("#DESDE").on("change",function(){var a=$(this).val();$.each(sysCities.fromcities,function(e,t){t.id==a&&(a=t.name.substr(t.name.length-2,2))}),e="CO"!=a&&"BR"!=a&&"CA"!=a&&"US"!=a?"GS":a}),$.each(sysCities.tocities,function(e,a){$("#HACIA").append('<option value="'+a.id+'">'+a.name+"</option>")}),$.datepicker.setDefaults($.datepicker.regional.es);var a=$("#from, #to").datepicker({dateFormat:"dd/mm/yy",regional:"es",numberOfMonths:2,minDate:departure_date,maxDate:return_date,onSelect:function(e){var t="from"==this.id?"minDate":"maxDate",i=$(this).data("datepicker"),n=$.datepicker.parseDate(i.settings.dateFormat||$.datepicker._defaults.dateFormat,e,i.settings);a.not(this).datepicker("option",t,n)}});$("input:radio[name=radIdaVuelta]").change(function(){valIdaVuelta=$("input:radio[name=radIdaVuelta]:checked").val(),"RT"==valIdaVuelta?$("#inputRegreso").show():$("#inputRegreso").hide()});var t=$("#DESDE"),i=$("#HACIA"),n=$("#from"),o=$("#to"),r=$("input:radio[name=radIdaVuelta]:checked");$("#btnSubmit").on("click",function(){buscarVuelos(e,t,i,n,o,r)})}),$(document).ready(function(){function e(e){$("#bt"+e).parent().addClass("active"),$("#bt"+e).addClass("active"),$("#load_content").fadeOut("fast",function(){$("#load_content").load("info/"+e+".html",function(){$("#load_content").fadeIn("slow")})})}var a=$("ul#tarifas li a").first().attr("href");$.history.init(function(t){e(""==t?a:t)}),$(".jqload").on("click",function(a){$(".colmenu li a").each(function(){$(this).parent().removeClass("active"),$(this).removeClass("active")}),$(this).parent().addClass("active"),$(this).addClass("active");var t=$(this).attr("href");t=t.replace(/^.*#/,""),e(t),a.preventDefault()})});